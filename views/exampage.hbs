<!DOCTYPE html>
<html>
<head>
	<title>
		NFNLabs Exam
	</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width">  
	<link rel="stylesheet" href="/css/lib/fw/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="/css/lib/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="/js/vue@2.2.6.js"></script>
	<style>
		.list a {
			text-decoration:none;
			color:white;
		}
		.navbar{
			font-size: 20px;
			width:100%;
		}
		.col-md-2, .col-lg-2 , .col-sm-2{
			background-color: gray;
			height:650px;
			color:white;
			font-size: 20px;
		}
		.col-md-10, .col-lg-10 , .col-sm-10{
			background-color:#F1F1F1;
			height:650px;
		}
		.list{
			padding:20px;
			list-style:none;
		}
		/*.qt{
			background-color: white;
			width:80%;
		}
		.qt td , .qt th {
			padding:20px;
		}*/
		.row {
			margin: 0;
			padding:0;
			border:0;
		}
		.navbar-right li{
			padding: 10px;
		}
		.navbar-right {
    		padding-right: 4px;
    		padding-top: 19px;
			}
		.btn-success{

		background-color:#27AE60;}
		.btn-success,.btn-default{
			width:100px;
			border:0.5px solid;
		}
		/*.container{
			border:1px solid black;
			
		}*/
		 .radio {
    position: relative;
    display: block;
    margin-top: 0px;
    /* margin-bottom: 6px; */
}.container-fluid {
    padding-right: 0px;
    padding-left: 0px;
    margin-right: auto;
    margin-left: auto;
    padding-bottom: 0px;
}
.well {
    min-height: 6px;
    padding: 23px;
    margin-bottom: 0px;
    background-color: white;
    border-radius: 0px;
    border: 1px solid gray;
}
.qaa {
   
    padding: 0px;
    margin: 50px;
    background-color: white;

}label.btn span {
  font-size: 1.5em ;
}

label input[type="radio"] ~ i.fa.fa-circle-o{
    color: #c8c8c8;    display: inline;
}
label input[type="radio"] ~ i.fa.fa-check-circle{
    display: none;
}
label input[type="radio"]:checked ~ i.fa.fa-circle-o{
    display: none;
}
label input[type="radio"]:checked ~ i.fa.fa-check-circle{
    color: yellowgreen;    display: inline;
}
label:hover input[type="radio"] ~ i.fa {
color: yellowgreen;
}
div[data-toggle="buttons"] label.active{
    color: yellowgreen;
}

/*div[data-toggle="buttons"] label {
display: inline-block;
padding: 6px 12px;
margin-bottom: 0;
font-size: 14px;
font-weight: normal;
line-height: 2em;
text-align: left;
white-space: nowrap;
vertical-align: top;
cursor: pointer;
background-color: none;
border: 0px solid 
#c8c8c8;
border-radius: 3px;
color: #c8c8c8;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
user-select: none;
}
*/
div[data-toggle="buttons"] label:hover {
color: ;
}

div[data-toggle="buttons"] label:active, div[data-toggle="buttons"] label.active {
-webkit-box-shadow: none;
box-shadow: none;
}
.radio input[type="radio"]{
	display: none;
}
#fill{	border: 1px solid gray;
    border-radius: 0px;
    width:100%;
    padding:5%;}
	</style>
<script type="text/javascript">

</script>
</head>
<body onload="fun()">

<nav class="navbar">
    <div class="navbar-header">
      <a class="navbar-brand" href="#"><img src="/logo.jpg" width="45"></a>
    </div>
    <p class="navbar-text" style="color: yellowgreen; padding-top: 30px; margin:0;">NFNLabs</p>
    <h2 class="navbar-text" style="position:absolute;top:11%;left:40%;" >OnlineTest</h2>
    <h3 class="navbar-text" style="position:absolute;top:11%;left:90%;" id="clock"></h3>
</nav>
	<div class="col-md-2 col-lg-2 col-sm-2">
		<ul class="list"> 
			<li class="fa fa-odnoklassniki-square"> <a href="/html/profile">Profile</a></li><br><br>
			<li class="fa fa-wpforms"> <a href="">Instruction</a></li><br><br><br>
			<h3>TEST</h3><br>
			<li class="fa fa-wpforms"> <a href="/">Logical</a></li><br><br>
			<li class="fa fa-wpforms"> <a href="">Resoning</a></li><br><br>
			<li class="fa fa-wpforms"> <a href="">Program</a></li><br><br>
		</ul>
	</div>
	<div class="col-md-10 col-lg-10 col-sm-10">
	<div class="qaa">
		 <form id="form">
			<div class="well">
			<small id="small"> Question</small> <small id="qtype"></small><br>
			<h4 id="question1" style="font-size:25px;"> 
			{{que}} ---------</h4>
			</div>
			 <div class="container-fluid">
			 			<div id="answer">
			 		 <div class="radio well btn-group btn-group" data-toggle="buttons" >
			 			<label><input type="radio" name="ans" value="a" id="u" class="rbtn"><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-check-circle fa-2x"></i><span id="a" style="font-size:20px; padding-left:30px;">{{a}}</span></label>
			 		 </div>
			 		 <div class="radio well btn-group btn-group" data-toggle="buttons"">
			 			<label><input type="radio" name="ans" value="b" id="u" class="rbtn"><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-check-circle fa-2x"></i>
			 			<span style="font-size:20px; padding-left:30px;" id="b">{{b}}</span></label>
			 		 </div>
			 		 <div class="radio well btn-group btn-group" data-toggle="buttons"">
			 			<label><input type="radio" name="ans" value="c" id="u" class="rbtn"><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-check-circle fa-2x"></i><span id="c" style="font-size:20px; padding-left:30px;"> {{c}} </span></label>
			 		 </div>
			 
			 		 <div class="radio well btn-group btn-group" data-toggle="buttons"">
			 			<label><input type="radio" name="ans" value="d" id="u" class="rbtn"><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-check-circle fa-2x"></i><span id="d" style="font-size:20px; padding-left:30px; ">{{d}}</span></label>
			 		 </div>
			 		 </div>			 	
			 		 </div>
			 		 <input type="text" id="fill" class="hidden" name="fill_in_the_blank_answer">
			 		 
			<ul class="nav navbar-nav navbar-right">
	        <li><button type="button" class="btn btn-default btn-block btn-lg" onclick="previous()"><b>Previous</b></button></li>
	        <li><button type="button" class="btn btn-success btn-block btn-lg" onclick="next()"> <b>Next </b></button></li> 
		 </form>
		</div></div>
	
	</div>

<script type="text/javascript">
	function fun(){
		init();
		$.get('/log',function(response){
    	json=response;
    	$("#qtype").text(json[0].question_Id);
      $("#question1").text(json[0].question);
      $("#a").text(json[0].a);
      $("#b").text(json[0].b);
      $("#c").text(json[0].c);
      $("#d").text(json[0].d);
      i=1;
    })};
	function secondsLeft() {
  var now = new Date()
  var mins = now.getMinutes();
  var secs = now.getSeconds();
 $("#clock").text(60 * 60 - (mins * 60 + secs));
}

function init() {
  timer = setInterval("secondsLeft()", 1000);
}
function previous(){

	 if(json[i-1].question_Type=='Objective'){
	 			$("#fill").attr('class','hidden');
				$("#answer").attr('class',"");
				$("#qtype").text(json[i-1].question_Id);
			  	$("#question1").text(json[i-1].question);
			  	$("#a").text(json[i-1].a);
			  	$("#b").text(json[i-1].b);
			  	$("#c").text(json[i-1].c);
			  	$("#d").text(json[i-1].d);
			  	if(i!==1){
			  	--i;}
			}
	else if(json[i-1].question_Type=='fill_in_the_blank_answer')
				{
					$("#fill").attr('class','');
				    $("#answer").attr('class',"hidden");
				    $("#qtype").text(json[i-1].question_Id);
				    $("#question1").text(json[i-1].question);		
				    --i;	
				}
}
function next(){

	if(!json[i]){alert("thankyou");}
	if($("#fill").val() =='')
	 var answer = $('input[name="ans"]:checked').val();
	if($('input[name="ans"]:checked').val()===undefined){
		var answer =  $("#fill").val();
	}
	 $.post('/result',{"answer":answer,"question_Id":json[i-1].question_Id});
	      	 if(json[i].question_Type=='Objective'){
	      	 	$("#qtype").text(json[i].question_Id);
			$("#question1").text(json[i].question);
			  $("#a").text(json[i].a);
			  $("#b").text(json[i].b);
			  $("#c").text(json[i].c);
			  $("#d").text(json[i].d);
			// $.post('/result',{"answer":$('input[name="ans"]:checked').val(),"question_Id":json[i].question_Id});			
				i++;
			}
				else if(json[i].question_Type=='fill_in_the_blank_answer')
				{
				$("#qtype").text(json[i].question_Id);
				$("#question1").text(json[i].question);
				$("#fill").attr('class','');
				$("#answer").attr('class',"hidden");
			
			// $.post('/result',{"answer":$("#fill").val(),"question_Id":json[i].question_Id});
			$("#fill").val('');
			i++;
				 }
				 $('input[name="ans"]').prop('checked',false);
			}
 $("#form").submit(function(e){
                e.preventDefault();
            });


</script>
</body>
</html>